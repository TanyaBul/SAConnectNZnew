<!doctype html>
<html>
  <head>
    <title>SA Connect NZ</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      body {
        font-family: 'Poppins', -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        background: #FAFAF8;
        color: #2D2D2D;
        line-height: 1.6;
        min-height: 100vh;
      }

      .hero {
        background: linear-gradient(135deg, #1A7F7F 0%, #0D6B6B 60%, #E8703A 100%);
        color: #fff;
        padding: 60px 20px 48px;
        text-align: center;
      }
      .hero-inner {
        max-width: 600px;
        margin: 0 auto;
      }
      .hero-icon {
        width: 80px;
        height: 80px;
        border-radius: 20px;
        margin: 0 auto 20px;
        box-shadow: 0 4px 20px rgba(0,0,0,0.2);
      }
      .hero h1 {
        font-size: 28px;
        font-weight: 700;
        margin-bottom: 8px;
        letter-spacing: -0.5px;
      }
      .hero .tagline {
        font-size: 16px;
        opacity: 0.9;
        font-weight: 400;
        max-width: 400px;
        margin: 0 auto;
      }

      .section {
        max-width: 700px;
        margin: 0 auto;
        padding: 40px 20px;
      }
      .section-title {
        font-size: 22px;
        font-weight: 600;
        text-align: center;
        margin-bottom: 28px;
        color: #1A7F7F;
      }

      .features-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 16px;
      }
      .feature-card {
        background: #fff;
        border-radius: 12px;
        padding: 20px 16px;
        text-align: center;
        border: 1px solid #E8E8E4;
      }
      .feature-icon {
        width: 44px;
        height: 44px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 12px;
        font-size: 20px;
      }
      .feature-card h3 {
        font-size: 14px;
        font-weight: 600;
        margin-bottom: 4px;
        color: #2D2D2D;
      }
      .feature-card p {
        font-size: 12px;
        color: #777;
        line-height: 1.4;
      }

      .download-section {
        background: #fff;
        border-top: 1px solid #E8E8E4;
        border-bottom: 1px solid #E8E8E4;
      }
      .download-inner {
        max-width: 700px;
        margin: 0 auto;
        padding: 40px 20px;
        text-align: center;
      }
      .download-inner .section-title {
        margin-bottom: 8px;
      }
      .download-subtitle {
        font-size: 14px;
        color: #777;
        margin-bottom: 24px;
      }

      .steps-row {
        display: flex;
        flex-direction: column;
        gap: 20px;
      }

      .step-card {
        background: #FAFAF8;
        border-radius: 12px;
        padding: 24px;
        text-align: center;
        border: 1px solid #E8E8E4;
      }
      .step-badge {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 28px;
        height: 28px;
        border-radius: 50%;
        background: #1A7F7F;
        color: #fff;
        font-size: 13px;
        font-weight: 600;
        margin-bottom: 10px;
      }
      .step-card h3 {
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 6px;
      }
      .step-card p {
        font-size: 13px;
        color: #777;
        margin-bottom: 16px;
      }

      .store-buttons {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }
      .store-button {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        padding: 12px 20px;
        font-size: 14px;
        font-weight: 500;
        font-family: 'Poppins', sans-serif;
        border: 1px solid #ccc;
        border-radius: 10px;
        text-decoration: none;
        color: #333;
        background: #fff;
        transition: all 0.15s;
      }
      .store-button:hover {
        background: #f0f0f0;
        border-color: #999;
      }
      .store-link {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
        padding: 8px 0;
        font-size: 13px;
        font-weight: 400;
        text-decoration: underline;
        text-underline-offset: 2px;
        color: #888;
        background: none;
        border: none;
        transition: color 0.15s;
      }
      .store-link:hover { color: #333; }
      .store-link .store-icon { width: 14px; height: 14px; }
      .store-icon { width: 18px; height: 18px; }

      .qr-card {
        background: #1A7F7F;
        color: #fff;
        border-color: #1A7F7F;
      }
      .qr-card .step-badge {
        background: rgba(255,255,255,0.2);
      }
      .qr-card p {
        color: rgba(255,255,255,0.8);
      }
      .qr-code {
        width: 180px;
        height: 180px;
        margin: 0 auto 16px;
        background: #fff;
        border-radius: 10px;
        padding: 12px;
      }
      .qr-code canvas {
        width: 100%;
        height: 100%;
      }
      .open-button {
        display: inline-block;
        padding: 12px 28px;
        font-size: 14px;
        font-weight: 600;
        font-family: 'Poppins', sans-serif;
        border-radius: 10px;
        text-decoration: none;
        color: #1A7F7F;
        background: #fff;
        transition: opacity 0.15s;
      }
      .open-button:hover { opacity: 0.9; }

      .footer {
        text-align: center;
        padding: 32px 20px;
        color: #999;
        font-size: 12px;
      }
      .footer a {
        color: #1A7F7F;
        text-decoration: none;
      }

      .loading {
        display: none;
        text-align: center;
        padding: 100px 20px;
      }
      .spinner {
        border: 2px solid #ddd;
        border-top-color: #1A7F7F;
        border-radius: 50%;
        width: 32px;
        height: 32px;
        animation: spin 0.8s linear infinite;
        margin: 20px auto;
      }
      @keyframes spin { to { transform: rotate(360deg); } }
      .loading-text {
        font-size: 15px;
        color: #555;
      }

      @media (min-width: 640px) {
        .hero { padding: 72px 32px 56px; }
        .hero h1 { font-size: 36px; }
        .hero .tagline { font-size: 18px; }
        .features-grid { grid-template-columns: repeat(3, 1fr); }
        .steps-row { flex-direction: row; align-items: stretch; }
        .step-card { flex: 1; display: flex; flex-direction: column; }
        .step-card p { flex-grow: 1; }
      }

      @media (prefers-color-scheme: dark) {
        body { background: #111; color: #e0e0e0; }
        .hero { background: linear-gradient(135deg, #145C5C 0%, #0A4A4A 60%, #C45D30 100%); }
        .section-title { color: #2AACAC; }
        .feature-card { background: #1a1a1a; border-color: #2a2a2a; }
        .feature-card h3 { color: #e0e0e0; }
        .feature-card p { color: #888; }
        .download-section { background: #151515; border-color: #2a2a2a; }
        .step-card { background: #1a1a1a; border-color: #2a2a2a; }
        .step-card h3 { color: #e0e0e0; }
        .step-card p { color: #888; }
        .store-button { background: #222; border-color: #444; color: #e0e0e0; }
        .store-button:hover { background: #2a2a2a; border-color: #666; }
        .store-link { color: #888; }
        .store-link:hover { color: #ccc; }
        .qr-card { background: #0F5555; border-color: #0F5555; }
        .open-button { color: #111; background: #f0f0f0; }
        .footer { color: #666; }
        .footer a { color: #2AACAC; }
        .spinner { border-color: #444; border-top-color: #2AACAC; }
        .loading-text { color: #aaa; }
      }
    </style>
  </head>
  <body>
    <div class="loading" id="loading">
      <div class="spinner"></div>
      <div class="loading-text">Opening in Expo Go...</div>
    </div>

    <div id="content">
      <div class="hero">
        <div class="hero-inner">
          <img src="assets/images/icon.png" alt="SA Connect NZ" class="hero-icon" />
          <h1>SA Connect NZ</h1>
          <p class="tagline">Connect with other SA families in New Zealand. Share stories, find your people, and feel at home.</p>
        </div>
      </div>

      <div class="section">
        <h2 class="section-title">Everything You Need to Connect</h2>
        <div class="features-grid">
          <div class="feature-card">
            <div class="feature-icon" style="background: #1A7F7F15;">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#1A7F7F" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
            </div>
            <h3>Discover Families</h3>
            <p>Find SA families near you based on location and shared interests</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon" style="background: #E8703A15;">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#E8703A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
            </div>
            <h3>Private Messaging</h3>
            <p>Chat privately with connected families to plan meetups</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon" style="background: #1A7F7F15;">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#1A7F7F" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
            </div>
            <h3>Community Events</h3>
            <p>Braais, playdates, sports days, and church events near you</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon" style="background: #E8703A15;">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#E8703A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg>
            </div>
            <h3>Business Hub</h3>
            <p>Free listings for SA-owned businesses in New Zealand</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon" style="background: #1A7F7F15;">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#1A7F7F" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>
            </div>
            <h3>Connect &amp; RSVP</h3>
            <p>Send connection requests and RSVP to community events</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon" style="background: #E8703A15;">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#E8703A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s-8-4.5-8-11.8A8 8 0 0 1 12 2a8 8 0 0 1 8 8.2c0 7.3-8 11.8-8 11.8z"/><circle cx="12" cy="10" r="3"/></svg>
            </div>
            <h3>Location-Based</h3>
            <p>Discover families nearby based on your location in NZ</p>
          </div>
        </div>
      </div>

      <div class="download-section">
        <div class="download-inner">
          <h2 class="section-title">Get the App</h2>
          <p class="download-subtitle">Download Expo Go and scan the QR code to get started</p>

          <div class="steps-row">
            <div class="step-card">
              <div class="step-badge">1</div>
              <h3>Download Expo Go</h3>
              <p>Free app to preview SA Connect NZ on your phone</p>
              <div class="store-buttons" id="store-buttons">
                <a id="app-store-btn" href="https://apps.apple.com/app/id982107779" class="store-button" target="_blank">
                  <svg class="store-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"/></svg>
                  App Store
                </a>
                <a id="play-store-btn" href="https://play.google.com/store/apps/details?id=host.exp.exponent" class="store-button" target="_blank">
                  <svg class="store-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M3,20.5V3.5C3,2.91 3.34,2.39 3.84,2.15L13.69,12L3.84,21.85C3.34,21.6 3,21.09 3,20.5M16.81,15.12L6.05,21.34L14.54,12.85L16.81,15.12M20.16,10.81C20.5,11.08 20.75,11.5 20.75,12C20.75,12.5 20.53,12.9 20.18,13.18L17.89,14.5L15.39,12L17.89,9.5L20.16,10.81M6.05,2.66L16.81,8.88L14.54,11.15L6.05,2.66Z"/></svg>
                  Google Play
                </a>
              </div>
            </div>

            <div class="step-card qr-card">
              <div class="step-badge">2</div>
              <h3>Scan QR Code</h3>
              <p>Use your phone's camera or Expo Go to scan</p>
              <div class="qr-code" id="qr-code"></div>
              <a href="exps://EXPS_URL_PLACEHOLDER" class="open-button">Open in Expo Go</a>
            </div>
          </div>
        </div>
      </div>

      <div class="footer">
        <p>SA Connect NZ &mdash; Connecting South African families across Aotearoa</p>
      </div>
    </div>

    <script src="https://unpkg.com/qr-code-styling@1.6.0/lib/qr-code-styling.js"></script>
    <script>
      (function () {
        const ua = navigator.userAgent;
        const loadingEl = document.getElementById("loading");
        const contentEl = document.getElementById("content");

        const isAndroid = /Android/i.test(ua);
        const isIOS =
          /iPhone|iPad|iPod/i.test(ua) ||
          (navigator.platform === "MacIntel" && navigator.maxTouchPoints > 1);

        const deepLink = "exps://EXPS_URL_PLACEHOLDER";

        const appStoreBtn = document.getElementById("app-store-btn");
        const playStoreBtn = document.getElementById("play-store-btn");
        const storeButtonsContainer = document.getElementById("store-buttons");

        if (isIOS) {
          playStoreBtn.className = "store-link";
          storeButtonsContainer.appendChild(playStoreBtn);
        } else if (isAndroid) {
          appStoreBtn.className = "store-link";
          storeButtonsContainer.insertBefore(playStoreBtn, appStoreBtn);
        }

        const qrCode = new QRCodeStyling({
          width: 400,
          height: 400,
          data: deepLink,
          image: "assets/images/icon.png",
          dotsOptions: {
            color: "#1A7F7F",
            type: "rounded",
          },
          backgroundOptions: {
            color: "#ffffff",
          },
          imageOptions: {
            crossOrigin: "anonymous",
            margin: 6,
            imageSize: 0.35,
          },
          cornersSquareOptions: {
            type: "extra-rounded",
            color: "#E8703A",
          },
          cornersDotOptions: {
            type: "dot",
            color: "#E8703A",
          },
          qrOptions: {
            errorCorrectionLevel: "H",
          },
        });

        qrCode.append(document.getElementById("qr-code"));

        if (isAndroid || isIOS) {
          loadingEl.style.display = "block";
          contentEl.style.display = "none";
          window.location.href = deepLink;
          setTimeout(function () {
            loadingEl.style.display = "none";
            contentEl.style.display = "block";
          }, 500);
        }
      })();
    </script>
  </body>
</html>
